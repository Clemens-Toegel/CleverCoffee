<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Clever Coffee PID</title>

    %VAR_HEADER_FONTAWESOME%
    %VAR_HEADER_BOOTSTRAP%
    %VAR_HEADER_BOOTSTRAP_BUNDLE%

    <!-- Init Bootstrap Popovers -->
    <script>
        document.addEventListener("DOMContentLoaded", function (event) {
            document.querySelector('body').addEventListener('click', function (e) {
                //if click was not on an opened popover (ignore those)
                if (!e.target.classList.contains("popover-header")) {
                    //close popovers when clicking elsewhere
                    if (e.target.parentElement.getAttribute("data-bs-toggle") != "popover") {
                        document.querySelectorAll('[data-bs-toggle="popover"]').forEach(function(el) {
                            var popover = bootstrap.Popover.getInstance(el);
                            if (popover != null) {
                                popover.hide();
                            }
                        });
                    } else {
                        e.preventDefault();
                        //create new popover
                        var popover = bootstrap.Popover.getOrCreateInstance(e.target.parentElement);
                        popover.show();
                    }
                }
            });
        });
    </script>

    %VAR_HEADER_VUEJS%

    <script>
        //delay loading app js until html has been loaded (to reduce concurrent requests)
        document.addEventListener("DOMContentLoaded", function(event) {
            import('/js/app.js')
        })
    </script>
</head>

<body>
<div id="page-container">
    <div id="navigation">
        <nav class="navbar navbar-expand-xl navbar-dark bg-secondary">
            <div class="container-fluid">
                <a class="navbar-brand" href="/">
                    <img alt="Clever Coffee"
                        src="https://clevercoffee.de/wp-content/uploads/2020/12/CleverCoffee_Logo_Menu.png"
                        style="width:64px;">
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarToggleExternalContent" aria-controls="navbarToggleExternalContent"
                    aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarToggleExternalContent">
                    <div class="navbar-nav">
                        <a class="nav-item nav-link" href="/"><i class="fa fa-home" aria-hidden="true"></i> Home</a>
                        <a class="nav-item nav-link" href="/parameters.htm"><i class="fa fa-sliders" aria-hidden="true"></i> Parameters</a>
                        <a class="nav-item nav-link" href="/settings.htm"><i class="fa fa-wrench" aria-hidden="true"></i> Settings</a>
                        <a class="nav-item nav-link" href="/about.htm"><i class="fa fa-desktop"></i> About</a>
                    </div>
                </div>
            </div>
        </nav>
    </div>
